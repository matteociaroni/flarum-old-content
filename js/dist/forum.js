(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const e=flarum.core.compat["forum/app"];var a=o.n(e);const n=flarum.core.compat["common/models/Post"];var r=o.n(n);const s=flarum.core.compat["common/Model"];var c=o.n(s);const l=flarum.core.compat["forum/components/PostMeta"];var i=o.n(l);const p=flarum.core.compat["common/extend"],d=flarum.core.compat["common/models/Discussion"];var u=o.n(d);const f=flarum.core.compat["common/components/Badge"];var v=o.n(f);const b=flarum.core.compat["common/helpers/humanTime"];var g=o.n(b);const y=flarum.core.compat["common/helpers/fullTime"];var P=o.n(y);a().initializers.add("matteociaroni/flarum-old-content",(function(o){r().prototype.isOld=c().attribute("isOld"),u().prototype.isOld=c().attribute("isOld"),(0,p.override)(i().prototype,"view",(function(){var t=this.attrs.post,e=t.createdAt(),a=this.getPermalink(t),n="ontouchstart"in document.documentElement,r=this.attrs.post.isOld()?"Dropdown-toggle oldDate":"Dropdown-toggle";return m("div",{className:"Dropdown PostMeta"},m("a",{className:r,onclick:function(o){var t=this;setTimeout((function(){return $(t).parent().find(".PostMeta-permalink").select()})),o.redraw=!1},"data-toggle":"dropdown"},g()(e)),m("div",{className:"Dropdown-menu dropdown-menu"},m("span",{className:"PostMeta-number"},o.translator.trans("core.forum.post.number_tooltip",{number:t.number()}))," ",m("span",{className:"PostMeta-time"},P()(e))," ",m("span",{className:"PostMeta-ip"},t.data.attributes.ipAddress),n?m("a",{className:"Button PostMeta-permalink",href:a},a):m("input",{className:"FormControl PostMeta-permalink",value:a,onclick:function(o){return o.stopPropagation()}})))})),(0,p.extend)(u().prototype,"badges",(function(t){this.isOld()&&t.add("old",v().component({type:"old",label:o.translator.trans("matteociaroni-old-content.forum.tooltip",{contentType:"discussion"}),icon:"fas fa-exclamation"}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map